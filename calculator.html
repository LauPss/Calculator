<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta charset="UTF-8">
	<title>Lichu's Calculator</title>
	<link rel="stylesheet" href="calculator.css">
	<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" rel="stylesheet"> 
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<meta name="generator" content="Geany 1.33" />
</head>

<body>
	<h1>Lichu's Calculator!</h1>
	<p>Please, go ahead and write some numbers!</p>
	<p>(Tested on Mozilla Firefox and Google Chrome only!)</p>
	<button name="figure" class="butNum" value="1">1</button>
	<button name="figure" class="butNum" value="2">2</button>
	<button name="figure" class="butNum" value="3">3</button>
	<button name="sign" id="PLUS" class="operator">+</button>
	<br>
	<button name="figure" class="butNum" value="4">4</button>
	<button name="figure" class="butNum" value="5">5</button>
	<button name="figure" class="butNum" value="6">6</button>
	<button id="MINUS" class="operator">-</button>
	<br>
	<button name="figure" class="butNum" value="7">7</button>
	<button name="figure" class="butNum" value="8">8</button>
	<button name="figure" class="butNum" value="9">9</button>
	<button id="MULT" class="operator">ร</button>
	<br>
	<button name="figure" class="butNum" value="0">0</button>
	<button id="CANCEL">C</button>
	<button id="EQUALS">=</button>
	<button id="DIVID" class="operator">รท</button>
	<br>
	<form>
		<label for="DISPLAY">TOTAL</label>
		<input type="number" name="Display" id="DISPLAY" value="">
	</form>
</body>	

<script>
	let factor1 = "";
	let factor2 = "";

	const displayScreen = document.querySelector('#DISPLAY');
	displayScreen.setAttribute("value", 0);
	displayScreen.addEventListener("change", (e) => {
		factor1 = Number(displayScreen.getAttribute("value"));
		});
	
	const numberButtons = document.querySelectorAll('.butNum');
	numberButtons.forEach((button) => {
		button.addEventListener("click", (e) => {
			displayScreen.setAttribute("value", Number(`${displayScreen.value}` + `${button.value}`));
		});
	});
	
	const cancelButton = document.querySelector('#CANCEL');
	cancelButton.addEventListener("click", (e) => {
		displayScreen.setAttribute("value", 0);
	});
	
	const operatorButtons = document.querySelectorAll('.operator');
	operatorButtons.forEach((button) => {
		button.addEventListener("click", (e) => {
			factor1 = Number(displayScreen.getAttribute("value"));
			displayScreen.setAttribute("value", 0);
			return factor1;
		});
	});
	
	let add = (factor1, factor2) => Number(factor1) + Number(factor2);
	const plusButton = document.querySelector('#PLUS');
	plusButton.addEventListener("click", (e) => {
		displayScreen.classList.add("add");
	});
	
	let subtract = (factor1, factor2) => Number(factor1) - Number(factor2);
	const minusButton = document.querySelector('#MINUS');
	minusButton.addEventListener("click", (e) => {
		displayScreen.classList.add("subtract");
	});
	
	let multiply = (factor1, factor2) => factor1 * factor2;
	const multButton = document.querySelector('#MULT');
	multButton.addEventListener("click", (e) => {
		displayScreen.classList.add("multiply");
	});
	
	let divide = (factor1, factor2) => {
		let total = 0;
		if (factor2 !== 0) {
			total = factor1 / factor2;
		} else {
			total = 100;
		}
		return total;
	}
	const dividButton = document.querySelector('#DIVID');
	dividButton.addEventListener("click", (e) => {
		displayScreen.classList.add("divide");
	});
	
	let operate = () => {
		if (displayScreen.classList.contains("add")) {
			displayScreen.setAttribute("value", add(factor1, factor2));
		} else if (displayScreen.classList.contains("subtract")) {
			displayScreen.setAttribute("value", subtract(factor1, factor2));
		} else if (displayScreen.classList.contains("multiply")) {
			displayScreen.setAttribute("value", multiply(factor1, factor2));
		} else if (displayScreen.classList.contains("divide")) {
			if (factor2 === 0) {
				alert("ERROR: Couldn't divide by 0.");
				displayScreen.setAttribute("value", 0);
			} else {
				displayScreen.setAttribute("value", divide(factor1, factor2));
			}
		}
	}
	
	const equalsButton = document.querySelector('#EQUALS');
	equalsButton.addEventListener("click", (e) => {
		factor2 = Number(displayScreen.getAttribute("value"));
		operate();
		displayScreen.classList.remove("add", "subtract", "multiply", "divide");
	});
</script>
</html>
